# Repository Guidelines

Always start by reading : ./docs/specs/specification_stack_and_tools.md to undertsand the project

## Project Structure & Module Organization

The app follows Next.js App Router layout. Primary UI screens live under `src/app/` with route segments per feature (e.g. `src/app/interview/page.tsx`). Shared providers and global styles are defined in `src/app/providers.tsx` and `src/app/globals.css`. Design tokens generated by Panda CSS reside in `styled-system/` and should not be hand-edited. Assets such as logos, fonts, and media are served from `public/`. Functional specs, POC notes, and meeting records sit in `docs/`, which is the source of truth for product context.

## Build, Test, and Development Commands

- `npm install` – install dependencies; rerun whenever `package.json` changes.
- `npm run dev` – starts Panda codegen (watch) and Next dev server at `http://localhost:3000`. Use for daily work.
- `npm run build` – generates Panda artifacts and produces an optimized Next build; run before releases.
- `npm run lint` – executes ESLint with the repo config to catch style and correctness issues.
- `npm run panda` – watches Panda CSS config; use when adjusting design tokens.

## Coding Style & Naming Conventions

Write components in TypeScript with React 19 conventions. Follow functional components, hooks, and Chakra UI primitives for layout. **Always target Chakra UI v3** (do not downgrade to v2) so the Panda-based theming stays compatible. Use 2-space indentation and single quotes only when required by Chakra props; otherwise prefer double quotes. Keep file names lowercase with dashes for route segments (`src/app/user-profile/page.tsx`) and camelCase for utilities. Allow ESLint to guide formatting; integrate your editor with the config to auto-fix on save. Generated `styled-system/` files should not be committed with manual edits.

### Chakra UI v3 reminders

- Use `gap`, `columnGap`, `rowGap`, etc. instead of the v2-only `spacing` prop with layout primitives such as `Stack` or `HStack`.
- Buttons and other color-aware components rely on `colorPalette="teal"` (or another token family) rather than the deprecated `colorScheme` prop. Sticking to `colorPalette` prevents TS errors with the v3 recipe types.
- Quick references for Chakra v3 live under `docs/chakra-v3/*.txt`; consult those notes whenever you bump into API or token conflicts.

## Testing Guidelines

Automated tests are not yet configured. Until tooling lands, exercise new flows manually in `npm run dev`, validating Supabase interactions with test credentials. When adding tests later, colocate them next to the component (`component.test.tsx`) and target meaningful coverage of conversational branching logic.

## Commit & Pull Request Guidelines

Commits mirror the initial history (`create-next-app`): short, imperative phrases in lowercase (`add interview lobby screen`). Keep changes scoped and runnable. Each PR must include: a concise summary, screenshots or screen recordings for UI updates, linked issue IDs when available, and notes on manual or automated tests performed. Request review from the product owner or another agent before merging.

## Configuration & Secrets

Store Supabase and other API keys in `.env.local` and NEVER commit them. Provide `.env.example` updates when new variables are required. Review Next.js settings after changing environment variables.
